
# 過去の改修履歴

- 最新の情報は、[WIP](WIP.md)をご覧ください。


## Update1.3(V1.13) → Update2(V1.24)まで


- "1.2.3"→"1.2.4" [2018/10/05]-[2018/10/06] Update2
  - 棋譜コントロールがアクティブなときにCtrl+K/Rなどのショートカットキーが効かないのを修正。
  - 棋譜ウインドウ、検討ウインドウ、ショートカットキーで非表示に出来るように。(kumaさん)
    - 表示～再表示がCtrl+K(棋譜ウインドウ)、Ctrl+R(検討ウインドウ)で出来るようになった。
    - 棋譜ウインドウ、検討ウインドウ、最初、非アクティブでpop upさせるように。
  - S七段・S九段、棋力調整
  - Sのつく段位プリセットの説明文の脱字修正。


- "1.2.2"→"1.2.3" [2018/09/27]-[2018/10/04]
  - 定跡を使わない場合にも"no_book"というファイルをエンジン側が読みに行っていたのを修正。
  - Aperyの定跡ファイル(book.bin)はBookDirオプションを無視して、"book/book.bin"を読みに行っている。(ohtaroさんの報告) (修正内容の指摘、tttakさん)
  - デバッグウインドウを出したときに、Filterのテキストボックスにfocusを移動させる。
  - 検討ウインドウ、連続対局のときなど更新が間に合わなくて待たされることがあるの改良。
  - 対局結果の自動保存の設定になっていないとき、連続対局の勝敗のカウントがされないのを修正。
  - 低い段位同士の連続対局だとメニューの更新が1局ずつあるので、デバッグウインドウが出せない
    - Ctrl + D をデバッグウインドウのショートカットにする。
  - メモリ上のLogをデフォルトで1万行までの保存とする。
    - これでも10局分ぐらいは保存できるはず。
    - 1局100KB程度(1000行程度)なので1万局で1000万行、1GBぐらいになる。
    - 連続対局中、Hashサイズの変更は出来ないので(Hashの再初期化をしないので)、メモリギリギリの状態からだと1GBはきつすぎる。
          /// ただし、デバッグウインドウを開いている間は、この行数を超えて表示される。
          /// (これはデバッグウインドウ側で保持しているQueueに追加されていくため)
  - 1級～10級を下方修正。新1級 = 従来の2級 , 新2級 = 従来の4級 , 新3級 = 従来の6級 , … , 新10級 = 従来の20級 相当
  - S七段～S11級を追加。序盤は弱いのに終盤だけ強いということのないように、人間らしい弱さを追求しました。
    - S七段・九段以外の調整完了。S七段・九段の調整はまだ時間かかるので次回。
  - エンジン側との入出力、EncodeをUTF8と変更。
  - エンジン終了時にCancelarationTokenを明示的に解放していなかった。リファクタリングして、この処理をなくした。
    - 連続対局数万局とかやるときにhandle不足で落ちる現象が緩和されるかも。
    - masaさんからの連続対局のレポートをもとに修正できました。masaさんに感謝！
  - デバッグウインドウを閉じるタイミングでメッセージが送られてくると破棄されたWindowでInvokeしてることになって例外が出ていたの修正。
  - 時間無制限のときに名前の表示のところが「/五段」のようになる(masaさん)
    - 修正しました。


- "1.2.1"→"1.2.2" [2018/09/25]-[2018/09/27]
  - クリップボードの貼り付けで拒否されて例外が出ることがある(ohtaroさん)
    - 他のソフトでクリップボードにアクセスしていると例外が出るようです。修正しました。
  - 検討ウインドウをメインウインドウに埋め込んでいるときにメインウインドウを最小化するとSpliterの計算で例外で落ちるの修正。
  - 例外が発生したときのスタックトレース、ちゃんと改行するように。
  - 例外の出力形式、全体的に改善。
  - 開始のときにメモリ不足の警告が出たあと、放置しているとエンジンがタイムアウトになるのを修正。
    - タイムアウトを30秒から15秒に変更。これ以上かかるのは異常である。エンジン側を改修すべき。
    - タイムアウトになったときにエンジン初期化中の画面から進まないの修正。
    - 開始のときのメモリ不足の警告を出すタイミングですでにエンジンが起動していた。
      - 警告を出してからエンジンを起動するように修正。
  - 検討ウインドウの再表示のショートカット、Ctrl+Eが盤面編集とかぶってて利かなかったのでCtrl+Rに変更。
  - メインウインドウ、閉じるときに、棋譜が残っていて、棋譜ウインドウと検討ウインドウがフロート状態だと
    ダイアログが出る瞬間にはそれらが非表示になるのを修正。
  - 検討モードを終了させずに通常対局をすると思考エンジンが空になる。(T.Kさん)
    - 詰検討モードからでも同様だったのでまとめて修正しました。
  - フォントの変更を可能にするための仕組みを導入。
  - Mac + monoで動くようにソースコードから環境依存部分を分離する。
  - 振り駒のアニメーションを行うハンドラ、UI Threadで実行していなかったのを修正。(Mizarさん)
    - 振り駒のときに例外が出ることがあった模様。


- "1.2.0"→"1.2.1" [2018/09/19]-[2018/09/24]
  - メニューのファイルに「ファイルヒストリーの削除」を追加。
  - メニューの棋譜編集をファイルに移動させた。
  - やねうら王側、engine_options.txtの読み込みにバグがあったので全バイナリ修正＆差し替え。
    - SSE2用とか動かなかったのこれが原因の可能性が。
  - やねうら王(エンジン側)にSkillLevel実装
    - 各実行ファイルをbuildしなおし。
  - エンジン接続時にDebugLogにfile pathを出力するように。
  - 例外が出て終了するときにも棋譜を保存するか確認のダイアログが表示されていたの修正。
  - 10段～12段のプリセットでAutoThreadを強制していたのやめる。
  - 連続対局で低い段位同士をやらせるとウインドウメッセージの処理機会が与えられず、
    ウインドウの操作が出来なくなってしまうの何とかする。
    - バッファリングしたことでだいぶ改善された(気がする)
  - 検討ウインドウのDockなどを可能にする。
    - メニューの「ウインドウ」→「検討ウインドウ」に、DockとFollowと埋め込みの機能を追加。
    - 棋譜ウインドウと同じくフロート機能追加する
    - 連続対局のときに検討ウインドウ、閉じても次の局でまた勝手に出てくるの修正。
    - メインウインドウ埋め込み時の縦幅をメニューのウインドウから変更できるように。
  - 棋譜を読み込んだ時に対局者名に反映されない。(msomaさん)
    - 名前の表示方式を変更したときにエンバグしてました。修正しました。
  - 連続対局で低い段位同士をやらせるとウインドウメッセージの処理機会が与えられず、ウインドウの操作が出来なくなってしまったり、
    GDI resourceが枯渇したりするのを改善。
  - 対局者名の下に段位、駒落ちなどの情報があったほうが良いような。
    - 余白がない。持ち時間設定のところに段位と駒落ち情報書いておく。
  - 連続対局のときに平手以外なら手合割を上手のほうに書いておく。
  - 振り駒の画像が表示されないことがある。
    - エンジン初期化直後だし初回読み込みのとき0.5秒で画面素材の読み込みが間に合わないことがあるのか…。
    - 振り駒での対局が確定した時点で先読みしておく。


- "1.1.9"→"1.2.0" [2018/09/16]-[2018/09/19]
  - 手番マーク、対局者名の色で表現したほうが良いのでは
    - 手番側を赤文字で表現するオプションを追加。(色は原色の赤だとどぎついので盤面に合わせてBrushes.IndianRedに)
    - メニューの 表示→「手番側の表現」、「対局者名の横の手番マーク」は削除。
  - 連続対局のとき後手のHash使用率の表示がおかしいのでは。(masaさん)
    - その部分の表示のクリアをしてなくて、初段ぐらいに設定しているとhash使用率がエンジン側から送られてこないので
    それでずっと前の表示が残っていたのでおかしく見えていました。新局面ごとにクリアするようにしました。
  - 棋譜ウインドウのスクロール位置を常に3手先ぐらいまで表示されているように。(T.Kさん)
    - デフォルトでmargin(先が見えている手数) = 3手としました。
    - また棋譜ウインドウの縦幅を狭めているときは、margin = (表示されている項目数-1)/2。
  - マウスホイールによる棋譜のスクロール(Tatuyaさん)
    - 検討モードでメインウインドウにfocusがあるときにマウスホイールの回転で棋譜の指し手を移動できるようにした。(ShogiGUIに倣った)
    - 検討ウインドウにfocusがあるときはうまく動かない。検討ウインドウのフロート化を実装したあとで考える。
  - 振り駒の乱数、.NETの乱数ではなく、もう少しマシな乱数に変更。
  - 思考エンジンのプリセットに11級～20級を追加。
  - 検討ウインドウの継ぎ盤の下のToolStripのほうも非アクティブからだと反応しない問題があったのを修正。


- "1.1.8"→"1.1.9" [2018/09/15]-[2018/09/16]
  - 対局設定画面の「先手」と「後手」の文字、駒落ちだと上手と下手にすべきだし、振り駒で手番が入れ替わったときも
    ややこしいし、よくない。「あなた」と「わたし」を人間時のデフォルトに変更する。
  - 連続対局終了時の名前の表示を元に戻さないように修正。
  - ShogiGUIにあるような振り駒機能が欲しい。(math26さん)
    - 実装しました。
    - image/game_effect/piece_toss_v1.png 追加
    - 振り駒で表が3枚以上出来た時には、対局設定ダイアログの左側のプレイヤーが先手(開始局面の手番側)に。
    - 人間 vs 人間のときは、対局設定ダイアログの左側のプレイヤーが後手(開始局面の非手番側)になった場合、自動的に盤面反転。
      - これはタブレット端末で二人で対局するときにこうなっていないと不便。
  - ToolStripのボタン、非アクティブ状態からだと2回クリックしないと反応しない。(T.Kさん)
    - 修正しました。MenuStripも同様であったので、こちらも同様に修正しました。
  - 駒をクリックして1手戻るボタンをクリックしたときに駒を掴んだままになる(kumaさん)
    - 修正しました。


- "1.1.7"→"1.1.8" [2018/09/12]-[2018/09/15]
  - 秒読み60秒のとき「40秒・・・50秒・1・2・3・・」みたいな感じで秒読み音声を入れる。
  - 秒読み30秒のとき「10秒・・・20秒・1・2・3・・」みたいな感じで秒読み音声を入れる。
    - メニューの音声のところに設定追加。
  - 対局者名、段位、手合、中断なども棋譜ファイル名に書き出す。
    - 連続対局のとき、および、ファイルに名前をつけて保存するときのデフォルトに反映。
  - tanuki-詰将棋エンジン、少し改造。以前解けなかった問題が解けることがあるかも。
  - 例外が出たときのエラーダイアログ、コピペが出来るように特別なダイアログを用意した。
  - 「コンピューターは1手に必ずこれだけ使う」オプション、チェックボックスで無効化できるように。
  - tanuki-詰将棋エンジン
    - 他の不詰の局面を調べた直後に(エンジンをそのまま終了させずに)、詰むはずの局面を解かせたときに即座に不詰が返ってくる問題。
    - 「終」ボタンでいったんエンジンを終了させて再度解かせると正常に解ける模様。調査中。
    - Hash足りないだけのような…。df-pnで200手以上の長手数の詰将棋を解くにはGC(garbage collection)が欲しい気が…。
  - メニューの「表示」のところに「対局エフェクト」の有無の設定を追加。
  - 対局中断～再開時の素材表示追加。
    - 連続対局ではなく、かつ、対局設定の「開始局面」のところが「現在の局面」ならば「対局再開」と表示。
    - 最後の指し手が「対局中断」の指し手であるなら「対局中断」と表示。
    - 対局開始・終了 の素材差し替え
      - image/game_effect/game_start_v1.png
    - 対局中断・再開の素材追加
      - image/game_effect/game_interrupt_v1.png
  - タブレットモードの縦置きで画面が横にはみ出すのを軽減する #56 (Mizarさんのプルリク)
    - タブレットモードの縦置きで画面が横にはみ出すのを軽減する  …
    - 1130x1080 の画面サイズを基準にスケーリングする
  - 検討ウインドウ、rootSfen設定されたときにHash使用率の値などの表示を初期化する
  - 棋譜ウインドウ、丸ごと更新されるときは、差分更新やめる。
    - 棋譜ウインドウ、丸ごと更新されるときの動作が高速化した。
    - DCのleak少し減った気がする。


- "1.1.6"→"1.1.7" [2018/09/10]-[2018/09/11]
  - 本譜のみを書き出す機能
    - 本譜のみを書き出す、でファイルに書き出したあと「上書き保存」はどういう挙動になるのかだとか、わりと混乱を招きそう。
    - 本譜のみを書き出す機能を追加するのではなく、本譜以外の分岐をクリアする機能を追加することにした。
    - メニューに「棋譜編集」という項目を追加
    - 「本譜以外の分岐をクリアする」
  - HASH使用率、50%を超えたところで赤い文字で表示するようにした。
  - KIF : Kifu for Windowsのしおりを使った棋譜を読み込むと例外で落ちるのを修正。
    - KIF/KI2: "&" で始まる行を無視するように #54(Mizarさんのプルリク)
  - tanuki-詰将棋エンジン , 詰探索中の出力を変更した (#91)   (tanuki-さんのやねうら王へのプルリク)
    - clang++によるコンパイル警告を抑制した
    - 詰探索中の進捗状況の出力を変更した
    - Hash使用率が1秒ごとぐらいに更新されるようになった。
  - コンピューター側、指し手が速すぎて追いかけられないので、1手に必ず1秒使うようなモードが欲しい。
    - コンピューターが返したbest moveに対して、x[ms]になるまでGUI側が指し手を無視する機能を用意しました。
    - 対局設定ダイアログの「コンピューターは1手に必ずこれだけ使う」
  - KIF/CSA: 激指定跡道場4への対応 #53(Mizarさんのプルリク)
    - 『激指定跡道場4』で書き出したCSA形式のファイルが読み込めなかったのを修正。
  - Updater、管理者権限で実行されていればUpdaterの再起動をしないコードを追加。


- "1.1.5"→"1.1.6" [2018/09/08]-[2018/09/10]
  - メニューの「表示」→「対局者名の先頭の手番記号」追加。「☗」「☖」か、「▲」「△」を付与できるようにした。
  - 対局結果、駒落ちのときの結果を先手勝ちではなく下手勝ちのようにする。(math26さん)
    - この対応のため、対局結果のcsvに平手か駒落ちかも出力するfieldを追加しました。
    - 以前の棋譜に対しては対局結果画面で見ても修正されません。以降の駒落ち戦のみ修正して記録されます。
  - .KIFなどの棋譜ファイルを拡張子関連付けで本ソフトと関連付けたときにうまく起動するようにした。
    - コマンドラインの第1パラメーターに棋譜ファイル名があるときはそれを開くべき棋譜ファイル名と解釈するようにした。
  - 起動時のworking directoryをMyShogi.exeが存在したフォルダに設定するコード追加。
    - ショートカットから起動するときにworking directoryが異なるとうまく画面素材などを読み込めないのでこのコードを追加した。
  - メインウインドウを最小化したときに検討ウインドウをタスクバー上で非表示に。(kumaさん)
    - 対応しました。最小化から復帰させたときに他のウインドウの背後に行くので、メインウインドウと親子関係を持たせる改造もしたほうがよさげ。
  - 対局終了直後だけ、「◀」ボタンを押しても一手戻らない件。
    - 修正しました。
  - 棋譜ウインドウの表示位置を変更したときに一瞬、変な位置に表示されてから移動していたのを修正。
  - 棋譜を開くときに、棋譜ウインドウがTopMostなのでファイルダイアログより前面に出てくるの改善。
    - Owner設定するようにして、TopMostやめた。


- "1.1.4"→"1.1.5" [2018/09/07]-[2018/09/07]
  - メインウインドウを最小化したときに棋譜ウインドウをウインドウ化しているときには非表示にするように。(kumaさん)
  - 実行ファイルのアプリケーションアイコンを設定。(kumaさん)
  - 棋譜ウインドウ、ウインドウモード時に、文字サイズを変更するボタンを追加。(右下の「+」と「-」)
  - 棋譜ウインドウに「消一手」ボタン追加。
    - 棋譜の末尾を1手消す操作
    - 棋譜ウインドウのボタンにtooltip追加。
  - V1.1.4で対局中に閉じるときなど、警告ダイアログが2回出るようになっていたの修正。
  - tanuki-詰将棋エンジン , 置換表エントリの世代を削除し、置換表エントリのハッシュの最下位ビットに探索開始局面の手番を入れるようにした #89 (tanuki-さん。やねうら王へのプルリク)
    - この修正により、一度解いた局面を解かせるときには一瞬で応答が返ってくるようになった。
  - tanuki-詰将棋エンジン バグ修正。
    詰将棋ルーチンで受け側の局面から探索させたあとに攻め側の局面から探索させると不詰と出力されるバグを修正した #88 (tanuki-さんのやねうら王へのプルリク)


- "1.1.3"→"1.1.4" [2018/09/04]-[2018/09/06]
  - CSA: 一部ツールの出力する棋譜による不具合に対応 #52 (Mizarさんのプルリク)
    - 将棋ウォーズ棋譜管理ツールというフリーソフトで保存したcsa形式のファイルが読み込めない。(てらっちさん)
  - メニューの「ウインドウ」→「棋譜ウインドウ」→「表示位置」でフロート機能などを使えるようになった。
    - フロート状態を次回起動時に復元するようにした。
    - Dock機能追加。メインウインドウに対して上下左右、好きなところにDockさせられるようにする。
  - tanuki-詰将棋エンジン、ハッシュエントリをつぶすとき、探索ノード数を考慮するようにした #87 tanuki-さんのやねうら王へのプルリク
  - 駒をクリックするときにマウスカーソルを微小動かすと駒のドラッグ処理になり、駒を掴んだ直後に駒を離してしまう。(地球市民さん)
    - 確かにあまり嬉しくない挙動なので修正しました。
  - 連続対局のときの勝数、win-lose-draw ではなくwin-draw-loseに変更する。(odagaki0621さん)


## マスターアップ(V1.00) → Update1.3(V1.13)まで


- Update1.3がマイナビ公式アップデーターに昇格しました。[2018/09/06]


- "1.1.2"→"1.1.3" [2018/09/03]-[2018/09/03] : Update1.3
  - 起動時にファイル名を渡して、その棋譜を直接開いてくれる機能が欲しい。(相馬さん)
    - 『棋譜の管理』という棋譜データベースからの連携でそういう機能があると便利らしい。
    - MyShogi.exe -f [ファイル名] で、その棋譜ファイルを起動時に開くようにしました。
  - エンジンが選択されていないときに対局設定ダイアログを閉じると例外が出る。(相馬さん)
    - 検討エンジン設定、詰将棋エンジン設定も同様だったので、修正しました。


- "1.1.1"→"1.1.2" [2018/09/01]-[2018/09/03] : Update1.2
  - ImageLoaderで遅延読み込みを指定しているときに画像がないと無限再帰になるバグ修正。
    - (Update1のUpdaterで画像コピーに失敗したらこの現象が起きてた)
  - 棋譜を書き出した時に「棋譜が保存されていません」のメッセージが出る。(tooroさん)
    - 修正しました。
  - 直近に開いたファイル、"c:.."のようになっているのを"c:\.."のように修正。


- "1.1.0"→"1.1.1" [2018/08/31]-[2018/09/01]
  - 思考エンジンのプリセットに「十段」「十一段」「十二段」を追加
  - 思考エンジンの「八段」「九段」のNodeLimitsを少し下方修正。
  - 「九段」以下が、2スレッド固定の探索になっていなかったの修正。
  - 検討ウィンドウのカラムの横幅、あるフィールドの横幅を0にすると、次回起動時そのフィールドの幅がデフォルトサイズに戻ってしまう。(tooroさん)
    - 修正しました。
  - ファイルメニューあたりに直近に開いたファイル数個が表示されて欲しい。(tooroさん)
    - 対応しました。
  - 対局結果一覧から棋譜を開いて、検討でマウスで駒を動かしたあとに上書き保存したときにそのファイルに上書きされなかったの修正。
  - 連続対局の表示の文字色、見づらいので青～黒系を希望。(masaさん)
    - 青文字で白色の影を入れてみました。
  - 連続対局の表示、どちらが何勝であるか、わかりやすく。(uuunさん、masaさん)
  - メニューの「情報(&I)」を「ヘルプ(&H)」に変更。(kumaさん)
  - 対局結果ダイアログ、デスクトップ画面が小さくて高dpi環境だとボタンが表示されない。(masaさん)
    - 修正しました。


- "1.0.9"→"1.1.0" [2018/08/31]-[2018/08/31] : Update1
  - 対局者名にpreset名を含めて棋譜を保存すると、棋譜から読み込んだときに対局設定ウィンドウの対局者名のところが
    preset名が含まれてしまうので、棋譜ファイルの対局者名のところにはpreset名を書き出さないように変更。
    - preset名、棋譜ファイル名や対局結果一覧ウィンドウには含めても良いが、棋譜上には書き出さないのが吉。
  - 対局結果の保存設定ウィンドウの項目変更。
    - 保存上限数の設定、なくす。保存した(ファイルとして実在する)棋譜ファイルが勝手に消える仕様はわかりにくい。
    - 連続対局のときにフォルダを自動作成するオプション追加。
      - GUIを複数立ち上げるときにファイル名がかぶったりして気持ち悪いため。
  - 棋譜ファイルを保存するときなど、フォルダがなければ自動的に作成するように。
  - 対局結果一覧ウィンドウに「対局結果一覧のクリア」ボタンを追加。
  - 対局結果一覧を記録しているcsvファイルの追記、排他openにする。ソフトの同時起動のため。(masaさん)
  - 対局結果一覧ウィンドウに保存先フォルダを開くボタン追加。
    - 対局結果一覧ウィンドウで、棋譜保存フォルダを開くボタンをクリックしたとき、棋譜が選択されていれば、
      そのファイルが選択された状態でexplorerを開く。
  - 連続対局中にその旨を画面上に表示するように。(48さん他)
    - 対応しました。勝敗とRも表示するようにしました。
  - 棋譜ファイルを読み込んだ時に駒落ちのときに対局開始時に上手/下手と表示されないことがある。(48さん)
    - 駒落ちの判定きちんとするようにしました。(任意局面であっても駒が平手から欠落していれば駒落ちと判定。後手側が上手、先手側が下手と判定。)
  - アセンブリバージョンを1.2.0に。(忘れないうちに変更)


- "1.0.8"→"1.0.9" [2018/08/28]-[2018/08/30]
  - 秒読みのときに対局中断したときに、0/10のように分子が0になってしまうのを修正。
    - タイマーを停止させる直前の文字列を復元するようにした。
  - 対局終了後、ネームプレートが初期化されるの修正。
  - 棋譜に名前をつけて保存するときに思考エンジンの場合はプリセット名も含めて保存するように。
  - メニューに「ウィンドウ」→「対局結果一覧」
    - 対局結果棋譜の読み込みが出来るようになった。とりま、対局結果一覧はこれでいい感じ。
    - 対局結果のクリアとか必要？上限に達した分を自動削除していくコードが必要。あとで考える。
  - メニューに「ウィンドウ」→「対局結果の自動保存設定」追加。
  - 対局結果一覧ウィンドウの追加
    - 対局棋譜の自動保存
    - 対局結果の一覧
  - 盤面編集で移動元と移動先が同じだと手駒が増える。(masaさん)
    - 前回仕様を変更したときの修正忘れでした。修正しました。
  - 千日手の判定がおかしい。(masaさん)
  - Hashの計算用のテーブルの手駒のところの初期化が一部間違っていて、手駒があるときに同一局面だと判定されないバグがありました。修正しました。
  - 対局中に長時間放置しているとメモリ不足で落ちる。(zu2さんの指摘)
    - MenuItemがリソースリークしていました。修正しました。
  - ミニ盤面を対局開始の局面になっているほうが良いのでは。(masaさん)
    - そうするようにしました。
  - ミニ盤面、駒落ちのときに駒が駒箱のところに散らばったままになるの修正。
  - 細長い駒台表示のときに駒落ちにしてると駒箱のところに駒が表示されるの修正。


- "1.0.7"→"1.0.8" [2018/08/25]-[2018/08/28]
  - 対局設定ダイアログに連続対局のときに先後入れ替えないオプションを追加
  - 「先後入替」したときに、「後手の時間設定を個別にする」でなければ先後の持ち時間を入れ替えるべきでない。連続対局についても同様。(48さん)
    - 対応しました。
  - 連続対局でプレイヤーを入れえるとき、終了後に元の状態に戻す処理追加。
  - 盤面編集で移動元・移動先の2駒交換になるの、将棋所やShogiGUIのように手駒に移動して欲しい。(matrixさん)
    - そのように仕様変更しました。また2駒目が玉の場合、駒箱に移動するようにしました。
    - あと、手駒の駒を盤面に移動させたとき、その升に駒があったら、手駒を移動させたほうの駒台にその駒を戻すようにしました。
  - 対局開始時、駒落ちなら「先手」「後手」ではなく「上手」「下手」と表示。(masaさん)
    - 対応しました。
  - 局面図の出力において、「５八金まで」のように最終手の指し手も出力するようにした。(Mizarさんのプルリク)
  - 詰みの局面から開始したときに、「対局開始」だけが表示されるの「対局終了」だけが表示されるように修正。
  - 検討モードに入るときにも「対局開始」と表示されていたの修正。


- "1.0.6"→"1.0.7" [2018/08/24]-[2018/08/25]
  - 人間同士の対局で、検討ウィンドウが必要ないときは、最初から生成しないようにする。
    - 子ダイアログを一瞬表示して消すと(デスクトップと親ダイアログの再描画が発生して)画面がちらつくので。
  - 対局開始＆対局終了、勝ち、負け、引き分けの画面エフェクト追加
  - 対局開始時に盤面反転が起きるときに盤面がちらつくことがある問題修正。
  - KIF形式での局面図の出力修正。
    - V1.01でSVG出力対応にしたとき以降、KIF形式の局面図の出力が動かなくなっていた模様。
    - KIF: 局面図出力で1手前が無くとも問答無用で1手戻そうとしていた #45 (Mizarさんのプルリク)
  - 連続対局で「現在の局面」からが機能するようになった。
    - 特定の局面の形勢の優劣の研究に使えそうな？
  

- "1.0.5"→"1.0.6" [2018/08/22]-[2018/08/24]
  - 棋譜の分岐の途中の局面から対局を開始したときに、棋譜ウィンドウの選択行がその局面ではなく分岐開始のところになるのを修正。
  - 次分岐ボタンが有効(Enable = true)な状態で対局再開したときにずっと次分岐ボタンが有効になっているの修正。
  - 分岐を作って、その分岐の手で「本譜」ボタンを押した直後に「次分岐」ボタンが効かない。(ぐららるさん)
    - 修正しました。
  - 連続対局のときに思考エンジンに対してisreadyコマンドを送信するようにした。
  - USIエンジンに対して、終局時に"gameover win"など"gameover"メッセージを送信するようにした。(連続対局の時にも適用)
  - メニューの表示のところ、ショートカットキーが重複してたの修正。
  - 連続対局の途中で対局開始をしたときに例外で落ちることがある。(masaさん)
    - Restartの処理がまずかったので修正。
  - デバッグウィンドウに「ログのクリア」ボタン追加。
  - 「デバッグの開始」を選ばずともログは全部メモリ上に残していくようにする。
  - 「デバッグの開始」をメニューから削除。「デバッグウインドウ」→「デバッグ用のログ」に変更。


- "1.0.4"→"1.0.5" [2018/08/21]-[2018/08/22]
  - 成り/不成の選択、後手側だと180度回転させてあって欲しい。(ぐららるさん)
    - 持ち時間設定の表示も180度回転させるべきという話になりそう。それは画面レイアウトずいぶん変更しないといけないのでタブレット端末対応の時に。
  - 詰検討のエンジン設定の個別設定に自動Hashの項目がないの修正。
    - 修正しました。見出しも追加しました。
  - 詰検討が落ちる件(ぐららるさん)
    - まだメモリが二重に確保されてました。メモリの多い環境で実行するとメモリが2重に確保された時にメモリ不足で落ちているようでした。エンジン側を修正しました。
  - TIME UPまでの時間が1秒多かったのを修正。
  - 秒読みのときに時間切れになったときに残り時間の表示が0/3になるのおかしいので修正。
  - 棋譜ウィンドウ・検討ウィンドウの表示手番文字を▲△から☗☖に戻す
  - 棋譜ウィンドウ・検討ウィンドウのCSA形式の表示選択追加対応。


- "1.0.3"→"1.0.4" [2018/08/19]-[2018/08/21]
  - 棋譜・検討ウィンドウの読み筋のところ、chess式の表示があって欲しい。(masaさん)
    - メニューの「表示」のところから選べるようにしました。
  - 棋譜ウィンドウで時間切れの時など、手番記号がなかったの修正。
  - 開始局面で、タイマー進んでないの修正。
    - エンジン初期化中の表示を行うために修正したときの影響。
    - 初期化が一瞬で終わる場合(人間同士の対局や詰検討)にタイマーの初期化等がGameModeの変更より早いタイミングで行われてしまうのが原因
    - V1.03で詰検討が一部の環境で落ちていたの、これが原因っぽい。

  - Windowを最小化して、終了させたときに次回起動時に変な場所にWindowが行く。(kumaさん)
    - 修正しました。検討ウィンドウのほうも同様の問題があったので修正しました。
    - また、メインウィンドウを表示するデスクトップ座標が、スクリーンの移動・変更などによって失われていたら、プライマリウィンドウに表示するようにしました。
  - メイン以外のFormのアイコン出てるの消す
  - フォントサイズがバラバラなのを統一する。(11ptで統一。設定上は11.25pt) 一部だけ9pt


- "1.0.2"→"1.0.3" [2018/08/16]-[2018/08/19]
  - 速攻時間切れ負けになったときに「ありがとうございました」を2回読み上げるの修正。
  - 先手と後手が異なる持ち時間設定であるときに後手のエンジンが切れ負けになる現象。(masaさん)
    - エンジンオプションのデフォルト値
      - NetworkDelay2 300 → 550に変更。
      - NetworkDelay 120 → 350に変更。(片道150msほどかかる + 誤差が0.1～0.2秒ほどあるようなので..)
    - これを反映するには、メニューの「ファイル」→「設定の初期化」→「各エンジン設定の初期化」で設定を初期化する必要がある。
  - 持ち時間なし + 1手2秒加算でやるといきなり時間切れになる件。
    - 1手ごとの秒加算、指し手の前にやらないといけないのに、指し手を指したあとにしていたのを修正。
  - 盤面編集の初期配置に「双玉で玉以外すべて駒箱に」を追加。
  - マウスのドラッグ＆ドロップで駒を移動させる時にも、駒が移動できる先の升のエフェクトを表示するように。(島田さんの要望)
    - 対応しました。
  - 盤面編集後、SVGなどで局面を書き出す時など、gamePly(ゲーム開始からの手数)が1になっていなかったのを1に固定するように修正。
  - 詰将棋エンジンでの検討で時刻が表示されていない件(masaさん)
    - 時間を思考エンジンからinfoで送られてきたtimeを使っていたが、こういうのはサーバー側計測であるべきなので
      サーバー側で勝手に時間を埋めることにした。
  - 検討ウィンドウに経過時刻、fだけでなくff(小数点以下2桁)まで表示するようにした。
  - mateとupperbound/lowerboundの組み合わせでparse errorになっていたの修正。
    - WhaleWatcherも同様だったので、えびふらいさんに報告しといた。


- "1.0.1"→"1.0.2" [2018/08/14]-[2018/08/15]
  - 棋譜の読み込みに失敗したときに棋譜ウィンドウの棋譜をリセットするようにした。
  - 盤面編集から抜けたあとは、棋譜ウインドウはクリアした方が良い。(masaさん)
    - 修正しました。
  - SVG出力で持駒領域が長くなったときに二段組にする #40 (tibigameさんのプルリク)
  - 起動直後に検討モードにしつつ駒移動のマウス操作をすると落ちる件。(和差積 商さん)
    - 合法手の判定、強化しました。(再現しないのでこれで修正できているかどうかよくわかりません)
  - デバッグウインドウで複数行の選択、Ctrl+Cで選択行のクリップボードへのコピーが出来るようにした。
  - エンジンオプション設定、デフォルト値に戻す手段が欲しい。(まふさん)
    - エンジンオプションのデフォルト値をTooltipのなかに表示するようにした。
    - メニュー「ファイル」→「設定の初期化」→「各エンジン設定の初期化」を追加。
    - メニュー「ファイル」→「設定の初期化」→「各表示設定などの初期化」を追加。
  - 検討ウィンドウのカラムの横幅を次回起動時に復元して欲しい。(masaさん)
    - 対応しました。
  - KIF形式で書き出した棋譜ファイルがKifu for Windows V7で読み込めない件に対応。(Mizarさんのプルリク)
    - 柿木将棋Ⅸで書き出した棋譜ファイル、手合割と持駒と同時に指定してあるが、これが読み込めるように修正。(Mizarさんのプルリク)
  - 詰将棋エンジン
    - 詰将棋エンジンで指定したHashの2倍のメモリが確保されていたのを修正。
    - 詰将棋エンジンでHashに16MBを指定したときに4096MB確保されるの修正。
  - 対局開始時、「エンジン初期化」が表示されるタイミングが遅い件。(ぐららるさん)
    - 改良しました。
  - 手番表示、名前に被る件。(tibigameさん)
    - ネームプレートと棋譜ウィンドウ少し下げて、ネームプレートの左上に持ってくる？
    - あまりいい画面レイアウトでもないのでこの件は見送り。
    

- "1.0.0"→"1.0.1" [2018/08/07]-[2018/08/14]
  - ショートカットキーの割り当て
    - Ctrl+Vをクリップボードからのペーストに割当て
    - Ctrl+CをクリップボードへのKIF形式での棋譜コピーに割当て。
    - Ctrl+Sを上書き保存に割り当て。
    - Ctrl+Nを通常対局に割り当て。
    - Ctrl+Eを盤面編集に割り当て。
  - エンジンでの検討中のファイルメニューを無効化するように変更。
  - エンジン側で例外が発生したときにGUI側、エラーダイアログを出して、終了させるようにした。
  - 検討ウィンドウの読み筋で１一への駒打ちの候補手が同～と表示される症状の修正 #37(Mizarさんのプルリク)
  - Clipboardメニュー追加・SVG出力周り整備 #36 (Mizarさんのプルリク)
    - メニューの「ファイル」→「クリップボードにコピー」,「クリップボードからペースト」追加。
  - 詰将棋のエンジン設定ダイアログで秒数の指定が出来るようにした。
    - timeoutの処理を追加した。時間内に詰みが発見出来なかった時に、その旨を検討ウィンドウに出力するようにした。
    - 詰みを発見できなかったときの評価値がMATEになっているの修正。
  - 詰将棋エンジンに関して
    - 詰み手順を復元する探索ルーチンの中で受け手側の手番かつ王手がかかっている状況で1手詰みルーチンを呼び出すバグを修正した #85(tanuki-さんのプルリク)
    - 逆王手がかかっている局面でも詰みを探索するようにした #84  (tanuki-さんのプルリク)
  - SVG形式での局面保存に対応(メニューのファイル→局面の保存) (tibigameさんのプルリク)
  - ウィンドウを最大化したならそれを終了時に保存/次回起動時に復元すべき。(tanuki-さん)
    - 最大化状態であるかどうかは保存されていないが、現在の実装で、DesktopLocationとサイズ自体は保存されているのでまあいいような…。
  - tooltipに間違えてVSのデザイナーから"\r\n"を使っていた箇所がある件。(和左積 商さん)
    - 「検討エンジン設定」ダイアログの「詳細設定」ボタンのtooltip、修正しました。


## β版 → マスターアップまで[2018/07/26]-[2018/08/05]


- β10.1を『将棋神やねうら王』(2018年8月31日発売)のマスターアップ版としました。開発・テストにご協力いただいた皆様、ありがとうございました。


- β10からβ10.1で改修した点[2018/08/05]
  - 待った絡みで棋譜ウィンドウの表示がおかしくなることがある件。(まふさん)


- β9からβ10で改修した点[2018/08/05]
  - 局面を読み込ませての検討モードの時に11の駒を取る移動が同Xと検討の読み筋に表示される。(ぐららるさん)
    - 修正しました。
  - 読み筋に出現する「resign」は「投了」と表示するように。
  - 「検討時の駒音」変更したときにメニュー更新されない。(ぐららるさん)
    - PieceSoundOffTheGameの変更に対してUpdateMenuItem()のハンドラセットしてなかった。


- β8からβ9で改修した点[2018/08/05]
  - エンジン同士の対局で「中」を押した時にファイルメニューがアクティブにならないことがある。(masaさん , まふさん)
     - たぶん修正できた。
  - 検討モード、詰検討モードから「検」「詰」ボタンを押しても反応しないことがあったの修正。
  - 棋譜を開いて終局図を出したときに駒が浮いた状態になることがある。(uuunuuunさん)
    - 駒選択状態から、棋譜読み込み・棋譜貼り付けなどを行うとこの状態になる。修正しました。
  - 詰検討で秒数指定をして検討を開始すると例外が出る。
    - 詰将棋エンジン側が対応してない。 
    - とりま、詰検討設定の時間設定をするGroupBox無効化しておく。発売後のアップデートで対応するかも。
  - COM同士の対局のあと検討を開くとnull参照で落ちる件。(うさ親さん)
  - 読み筋にある win(宣言勝ち) が表示されない。
    - 読み筋に宣言勝ち、千日手、千日手勝ち、千日手負け、優等局面、劣等局面を表示するようにした。
    - 宣言勝ちと千日手引分が表示されることは確認した。他は局面がなくてわからない。
  - RDPで棋譜の再生時に表示が乱れる件。(suimonさん)
  - 手数が長くなってくると棋譜ウィンドウでの移動時に画面がちらつく件。(うさ親さん)
  - 詰将棋エンジンの個別設定が反映していなかった件、修正。
  - 詰将棋用エンジンのオプション画面、それ用にカスタマイズした。
  -  エンジン選択ダイアログを閉じたときに画面ちらついてたの、ちらつかなくなった。
  - 「エンジン選択ダイアログ」が2つ出た状態になる件。(kumaさん)
    - 修正しました。
  - 対局終了後に読み上げがずっと続くの止められない件。(kumaさん)
    - 対局終了でそこで以降の読み上げをキャンセルして「ありがとうございました」の音声を出すことにした。
    - メニュー → 音声のところで選択できるようにしました。
  - 宣言勝ちが非合法手に扱われてしまうことがある件。(masaさん)
    - 対局設定ダイアログの入玉設定の項目の並び順がエンジンオプション設定の同設定の項目の並び順とが異なっていたのが原因。修正しました。
  - ダイアログのセンタリングで画面外に出ることがある件。(tanuki-さん)
    - 新しく作られるダイアログが画面外に出ないように修正しました。
    - 上下・左右のどちらかにめり込まないと表示できない時は、右と下にめり込むのは許容。左と上にめり込むのは認めない。(ウィンドウのドラッグ、閉じるが出来なくなるため)


- β7からβ8で改修した点[2018/08/04]
  - 検討モードまわりの修正。
    - 検討時にOutputFailLHPVをfalseにしてなるべく綺麗なPVにする。
    - 継ぎ盤で棋譜、末尾に行ったあと左を2回押さないと1手戻らないの修正。
    - 対局開始時に継ぎ盤の局面を初期化するようにした。
    - 読み込んだ棋譜がいま表示している棋譜と同じ行数だったときに局面が移動しないバグ修正。
    - 棋譜ウィンドウのカーソルがある場所と違う局面になっている。(tibigameさん)
    - 検討モードで検討ウィンドウを閉じたのなら、エンジンを終了させ検討モードを抜ける。
    - 検討中にToolStripの◀▶で局面を移動させた時にその局面での思考が開始されないの修正。
    - 検討中に棋譜ウィンドウで局面を移動させた時にその局面での思考が開始されないの修正。
  - EngineDefine.MinimumHashMemory = 100→128に変更する。(2の冪乗でないとうまく扱ってくれないエンジンがありうるので)
  - 詰将棋エンジンまわりの作業
    - Position.IsLegal()の駒打ちの駒が違法であるのを除外できてなかったの修正。
    - "info score mate +"のようなMateに付随するスコアがparse失敗していたの修正。
    - 詰将棋、5手ほどしか手順が表示されないが、一応動いている。
    - これだけしか手順返ってこないの、エンジン側の仕様なのかな…。
      - 攻め方最短、受け方最長の手順でないからか。なるほど。


- β6からβ7で改修した点[2018/08/03]-[2018/08/04]
  - 検討ウィンドウにtanuki-2018初段　のようにプリセット名も表示するようにした。
  - 詰検討のときにtanuki-詰将棋エンジンが選べるようにした。
    - 詰将棋探索、実装まだ。
  - Windows7 2GB SSE3環境で動作しない(masaさん)
    - メモリで足りない可能性があるものの、SSE4以降でないとno sseのバイナリ、動かない可能性も。
    - 商用版、動作要件にSSE4以降を追加しておく。
    - Windows7の32bit環境はメモリ環境的にきつい(物理メモリが空いていても論理アドレス空間が2GBに制限されているのでそのため色々問題が発生する)ので、
      最低動作要件のOSのところに「32bit版のWindowsだと一部のエンジンが正常に動作しない可能性があります。64bit版のWindowsで動作させることを強く推奨します。」と注釈を追加
  - 検討開始した時に対局者名がエンジン名になってしまうの修正。
  - エンジンとの対局時で、対局者名を対局設定で変更しているときは、検討ウインドウの名前欄にエンジン名も括弧つきで表記するように。
	- 読み筋表示のところに定跡内容が表示された時にわかりにくい。
    - "info pv.."で解釈できない文字をそのまま検討ウィンドウの読み筋のところに表示するようにしました。
	- 序盤の定跡の局面で読み筋が表示されない
		- gpsfishが定跡の局面で読み筋を返さないため。修正考え中だが、gpsfishは最終的には製品版には含めないので急ぎの問題ではない。
    - これ仕様だということにする。
  - 検討モードで、検討エンジン選択ダイアログで選択したエンジンで検討するようにした。
  - GPSfish関連のフォルダ、Debug/engineから削除。
  - 32bit環境で8スレッド以上で動作しない件。(うさ親さん)
    - 8スレ以上割当らないように修正。
    - FAQに追加。
    - 思考エンジン側でスレッドに割り当てる論理アドレスが2GBを超えるため？
    - 32bit環境で8スレ以上を手動で割り当てた時に開始時にwarningを出すように。
  - 32bit環境でシステム情報を開くと落ちる。(うさ親さん)
    - 修正しました。
  - 読み込んだ棋譜から手動で新たに指し手を進めたら、未保存のフラグを立てて欲しい。(tibigameさん)
    - 修正しました。
  - 「▲７八飛　△８四歩」みたいな文字列を平手開始局面からの棋譜として読んで欲しい。(tibigameさん)
    - Mizarさんのプルリクで対応しました。
  - 2GB環境でQhapaqにて自動Hash60%,6スレは動くけど、自動Hash60%,8スレだと落ちる件。(うさ親さん)
    - 1スレッドあたり25MBはstackだけの計算で実際はそれ以外もあるので足りないのかも。1スレッドあたり40MBで計算するように修正しました。
  - メニュー　→　対局　→「検討モード」を「検討エンジン設定」に変更。
    - 「検討エンジン設定」を選ぶか、「検」討ボタンを押して検討エンジンが設定されていないときに検討エンジン設定ダイアログを出すようにした。
    - 詰検討についても同様。
  - エンジン選択と詳細設定のダイアログもメインウィンドウに対してセンタリングする。
  - 「将棋神」のプリセットで、棋力に直接影響しそうなところに関して値を設定する。(NodesLimit = 0 , DepthLimit = 0 , MultiPv = 1など)
  - 「九段」～「10級」も DepthLimit = 0 , MultiPv = 1 を設定しておく。
  - エンジンの詳細設定で"ConsiderationMode"をtrueにしたときに "PvInterval"の設定値が無視される件(masaさん)
    - 設定のところに説明文追加
  - メインウィンドウの表示位置、前回起動時のものを保存するように。(まふさん)
    - 修正案(kumaさん)
      - 採用させていただきました。
  - 棋譜ウィンドウの横幅の設定、メニューの「表示」のところから「ウィンドウ」のところに移動。
  - 「将棋神」「カスタム」のところにCPU負荷の件を追記。
  - 棋譜判定の改善 #30 (tibigameさんのプルリク)
    将棋所、ShogiGUIからの局面コピーが通るように


- β5からβ6で改修した点[2018/08/02]
  - エンジンがevalの読み込みに失敗したとき、「エンジン初期化中」のダイアログが消えない。(kumaさん)
    - プロセス間通信が切断されたときに、エラーダイアログを表示するように修正。
  - 共通設定からEvalDirを削除した。
  - エンジン初期化のときに"isready"送信前にsetoptionを送信するようにした。
  - メニュー　→　「情報」　→　「操作説明(オンラインマニュアル)」　追加。
  - 検討時の駒移動に対してShogiGUIなどでは駒音がある。(Backgammonさん)
    - デフォルトでつけるようにしました。
    - オンオフをメニューの音声　→　検討時の駒音　でオンオフ出来るようにしました。
    - メニューの音声→「棋譜読み上げ」の表示名を「対局時の棋譜読み上げ」に変更。
  - 棋譜をドラッグ＆ドロップで読み込めるようにして欲しい。(まふさん)
    - 実装しました。
    - 対局中・検討中は貼り付けできないように。また、未保存の棋譜がある時には警告を出すように。
  - メニューのファイルのところ、ショートカットキーのOが２つあったの修正。
  - 棋譜がないときにメニューの「上書き保存」が選択できないように。
  - クリップボードからの棋譜の貼り付け(tibigameさん)
    - 実装しました。
    - 対局中・検討中は貼り付けできないように。また、未保存の棋譜がある時には警告を出すように。
  - 未知の形式の棋譜を読み込んだ時にエラーメッセージを表示するようにした。
  - エンジン設定ダイアログの「次ページ」ボタンが見つけにくい。(田中誠さん)
    - エンジン設定ダイアログの各オプション項目の説明文、わかりにくいのでToolTipで表示するように変更。
    - 個別設定のほう、共通設定に従うのチェックボックスが有効のときもToolTipが表示されるように修正。
  - エンジンのプリセット、Threads 4→2に変更。
    - 物理2コアのPCで4スレッドになるとCPU同士の対局でCPU負荷が100%になり続けるため。
  - CPU負荷100%になるの、初心者向きにはよろしくないのでは。(uuunさん)
    - 激指は、スレッド数をCPUの物理コア数にしているようで、デフォルトではCPU負荷は50%になる。
    - 物理コア数をデフォルト値に変更しました。
    - エンジンオプションのThreadsのところに説明文追記。
  - 検討開始した時に対局者名がエンジン名になってしまうの修正。
  - 検討ボタンを押した時に1度目、エンジン初期化のダイアログが出ない。(masaさん)
    - 出てるような…知らない間に修正された？
  - 検討ウィンドウがメインウィンドウに追従するの、メニュー→ウインドウ→検討ウィンドウのところから設定でオフに出来るようにした。
  - 検討ウィンドウを一度も出していないと検討ウィンドウの再表示が出来ないのを修正。
  - 対局設定でエンジン選択した時にたまにプリセット選ばれない時があるの修正。
    - 修正しました。
  - 対局設定で、CPUとの対局のときにCPU側の対局者名の名前を変更しても次に開くとリセットされている件を修正。
    - 修正しました。
  - 対局開始時、メモリ不足ならキャンセル出来たほうが良いのでは。(48さん)
    - ダイアログ修正しました。
    - キャンセルした時に終局していることを示すため「ありがとうございました。またお願いします。」の音声読み上げ追加。
  - ダイアログ、対局中の終了はwarningのダイアログに変更。
  - 対局者名が途中で切れるため「tanuki-」のSDT5と2018の区別がつかない件。(48さん)
    - 半角換算で16文字まで表示するように。(全角は2文字としてカウント)
  - 思考エンジンのプロセス優先度、下がっていない件。(kuma)
    - 間違ったコードになってました。修正しました。
  - 「メニュー」→「情報」→「よくある質問(FAQ)」追加
    - とりあえずMyShogiのGitHubのFAQのページが開くようにしておいた。
  - サウンドが再生されない環境がある。(tibigameさん他)
    - C#のSystem.Windows.Media.MediaPlayerで再生できない環境がある。
      - 他の再生手段をオプションで選択出来るべきか。
      - 多重再生の出来るMicrosoftがサポートしている現行の技術、これぐらいしかないのだが…。
    - 「Windowsの機能の有効化または無効化」→「メディア機能」→Windows Media Playerのチェックボックスをオンにすると音が出た！(tibigameさん)
    - WindowsMediaPlayerをアンインストールしてから再インストールすると再生されるようになるらしい。(ぐららるさん , うさ親さん)
    - このノウハウ、FAQに書いておく。 


- β4からβ5で改修した点[2018/08/01]
  - ×ボタンで閉じるとき、終了前に終了しますかのダイアログを出したほうが良いのでは。(kumaさん)
    - 対局中の×ボタン、棋譜が未保存の時の×ボタンに対しては警告を出すようにしました。
  - エラーならエラー、警告なら警告用のメッセージボックスを用いるようにする。
  - BookOnTheFlyのオプションに説明文追記。
  - 定跡 yaneura_book2.db それらしきものを発掘してきた。
	- 定跡を変更した時にエンジンオプションをどう設定すれば良いのか不明瞭。
		- 定跡周りのオプション設定の説明文、追加。
  - AutoHashの割合、80%→70%にデフォルト値を変更。AutoHashの説明文追加。
  - 対局設定のダイアログの各コントロールにTooltipで説明文追加。
  - 対局設定ダイアログに入玉条件の設定追加
  - エンジンオプション設定をしている時に対局ウィンドウの操作が出来ないようにする。(まふさん)
    - ModalDialogに変更しました。
  - 対局設定でエンジンが選択されていない状態で詳細設定ボタンが押すと落ちる。(masaさん)
    - ModalDialogに変更しました。
  - 対局設定で先後入替えた時に選択していたプリセットが入れ替わらない件。(masaさん)
    - 修正しました。
  - 対局設定で、同種エンジンを選択している時に、「二級」・「初段」のようにそれぞれ異なるプリセットを選択して
    ダイアログを閉じて、再度対局設定を開いた時に、その値が復元されていなかったの修正。
  - 32bit環境でメモリ割り当てに失敗する件。(うさ親さん)
    - エンジン本体の見積もりが小さすぎるようだ。
    - 各エンジンのWorkingMemory を 30から200に変更。
  - 32bit環境でThreadsが出てない件。(うさ親さん)
    - 各エンジン、ビルドしなおし。スレッドあたりのstack 100MB→25MBに変更。スレッド数×25MBを消費するとして計算しなおす。
  - NO SSEのエンジン、EvalShare機能なしでコンパイルしてあったのをEvalShare機能ありでコンパイルしなおす。
  - 検討ウィンドウ、lowerboundが++、upperboundが--。いまは逆になっている。(Mizarさん)
    - 修正しました。


- β3からβ4で改修した点
  - 時間無制限の時のコンピュータに渡す思考時間設定していなかった件。(tanuki-さん他)
    - 時間無制限の時はコンピュータ側は1手5秒で指すようにしました。
  - 対局設定の「詳細設定」絡みの操作で例外が出る件。(yoiyoi322さん)
    - 手順難しい。エンジン選択した時にまだ詳細設定ボタンが生きているのがおかしいのかな？
    - エンジン選択中に詳細設定押せなくする。
    - 詳細設定中にエンジン選択ボタンも押せなくする。
  - 対局設定で先後入替えを押した時、CPUのバナーが入れ替わらない。(うさ親さん)
    - 修正しました。
  - 先手5秒/4秒 , 後手5秒/10秒加算　にした時、後手持ち時間使い切ったあと即指しになる。後手の秒読み、エンジンに渡されていない。(masaさん)
    - 秒読みと秒加算の混合ってUSIでは非対応のような気が…。
    - 先手に対してはbyoyomiで渡して、後手に対してはinctimeで渡すようにする。
  - 共通設定のNetworkDelay2のデフォルト値を300に変更。
    - この値、1000以上にしていると秒読み1秒設定の時に即指しになってバグかと思う人がいるといけないので。
  - tanuki-2018の個別設定からEvalShare削除。
    - このエンジン、EvalShareに対応してないので。
  - tanuki-2018、将棋神でも4スレッドしか使っていない件。(48さん)
    - EvalShareのオプション持ってないのに"engine_options.txt"で無理やり生やして
      Threadsのオプションを上書きしてしまっていた。(調査協力、うさ親さん)
    - 修正しました。


- β2からβ3で改修した点
  - 棋譜ウィンドウの横幅を変更できるように。(48さん)
    - メニューの「表示」→「棋譜ウインドウの横幅」を追加。
  - Ponder設定、とりま、未実装なので非表示にしておく。
    - マスターアップに間に合わなさそうなので…。
  - 対局設定で先後入替えを押した時、後手の時間設定を個別にするがオフの時でも時間設定グループがアクティブになる。(masaさん)
    - 修正しました。
  - エンジンの基本優先度下げたほうが良いのでは。(masaさん)
    - AMD-A9 2コアで、これを下げておかないとCPUを使い切っている状況では音声がぶつ切りに。(うさ親さん)
    - デフォルトでプロセス優先度、下げるようにしました。
  - 形勢グラフ、デバッグ＆修正が間に合わない気がするのでとりま無効化する。
  - 対局中に対局メニューでエンジン変更が出来てしまう。(masaさん)
    - メニュー無効化するように修正。
  - 後手の時に評価値を手番側から見た評価値にする件。
    - メニューの「表示」のところに用意
    - 「後手番のCPUの評価値表示を反転させるか」
    - よく見たら、デフォルトではエンジンが返しているのは自分から見た評価値だった。(´ω｀)
    - 自分から見た評価値をデフォルトとする。(将棋所と同じ)
    - 検討ウインドウに出力している評価値、保存していないので、即時反映は出来なくて、次の出力以降が反転表示される。(いずれなおすかも)
  - レーティング公式、修正。(uuunuuunさん)
    - これにより、5級あたりが少し強くなり、9段あたりは少し弱く調整される模様。
    - NodesLimit = 1000*Exp[(537-Sqrt[537^2 + 4*26.13(975-rate)]/(2*26.13))]
        // Excelの式で言うと　=1000*EXP((537-SQRT(537^2+4*26.13*(975-A1)))/(2*26.13))
    - 九段～十級まで用意した。
  - メニュー項目にアクセスキーを設定する。(kumaさん)
    - 対応しました。
  - 32bit環境で思考エンジンがメモリ割り当てに失敗することがある。(Wandre-sakさん)
    - 32bit環境、1プロセスが2GBまでしか使えないのでHASH割当の計算をするときに空き物理メモリ2GBとして計算すべき。
    - 空き物理メモリを取得する部分で32bit OSでは、空き物理メモリの値を最大でも2048MBとして扱うようにした。
  - LocalGameServerのスレッドで落ちた時に例外の捕捉が出来ていなかったの修正。
    - LocalGameServerのスレッドで落ちた時にもスタックトレースがちゃんと表示されるようになった。


- β1.1からβ2で改修した点
  - 棋譜の名前をつけて保存でデフォルト値を「先手名後手名_YYYYMMDDHHmmss.kif」にして欲しい。(ぐららるさん)
    - 対応しました。
  - 検討ウィンドウの「着順」「R順」も解像度によって少し見切れる件(48さん)
    - ボタン少し大きくしました。
  - tanuki-2018のNO SSE版(32bit環境用)がない。(32bit環境でtanuki-2018が動作しない)
    - SSE4.2版、対局が始まらない。"isready"に対して応答しない。どうやらビルドに失敗している模様。
      - NO SSE版、buildに失敗していて実行ファイル自体が用意できていない。原因調査中。
      - tanuki-2018(NNUEエンジン)、AVX2以外のものを差し替えた。
      - SSE4.2 , SSE4.1 , SSE2 , NO SSE版(32bit版)すべて差し替え。
  - 対局設定、エンジンオプション設定、エンジン選択ダイアログで、低解像度の環境でダイアログの右と下が見切れる可能性がある件。(うさ親さん)
    - β1.1で修正できてなかったので再度修正。AutoScaleDimension = (96F,96F)でしか編集しないように。
    - これで修正できていることを確認。(うさ親さん)
  - BookDirエンジン設定の変なところにあるの修正。
    - エンジンオプションの共通設定にBookDir追加。
    - EvalDirのほうの説明文、追記。
  - エンジンオプションダイアログの「前ページ」「次ページ」が見切れる環境があるらしい。(島田さん)
    - 11pt→9ptに変更。


- β1からβ1.1で改修した点
  - エンジン選択ダイアログの下部ボタンの「次ページ」「前ページ」の文字が見切れている環境がある。(yoiyoiさん)
    - 文字フォントサイズを縮小。「選択」の文字も14→12ptに。
  - 32bit環境用の実行ファイル名が"XXX_no_sse.exe"を読みに行っているが、"XXX_nosse.exe"しか用意されていない件。(うさ親さん)
    - 32bit環境ではどれも実行できない状態でした。(´ω｀)
    - 後者のファイルを読みに行くように修正。
  - 対局設定、エンジンオプション設定、エンジン選択ダイアログで、低解像度の環境でダイアログの右と下が見切れる可能性がある件。(うさ親さん)
    - 一応、強制的にリサイズして修正するコードを書いてみたけど修正されているかは謎。

